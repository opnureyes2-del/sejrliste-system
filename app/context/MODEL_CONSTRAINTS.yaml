# MODEL CONSTRAINTS - Token Budgets Per DNA Lag
# Fra planen: "TVUNGET FOKUS OG VEDHOLDENHED"

token_budgets:
  lag_2_documenting: 500     # Haiku - quick logging
  lag_3_verifying: 1000      # Haiku - run tests
  lag_4_improving: 3000      # Opus - pattern analysis
  lag_5_archiving: 1500      # Sonnet - extract conclusion
  lag_6_predictive: 2000     # Opus - generate predictions
  lag_7_optimizing: 4000     # Opus - research alternatives

model_routing:
  architecture: opus
  planning: opus
  complex_decisions: opus
  code_writing: sonnet
  file_editing: sonnet
  refactoring: sonnet
  verification: haiku
  simple_checks: haiku
  formatting: haiku
  logging: haiku

enforcement:
  on_budget_exceeded: "STOP and report to user"
  on_focus_lost: "Re-read SEJR_RULES.md"
  on_compaction_attempt: "FORBIDDEN - use semantic archiving instead"

phase_locking:
  enabled: true
  allowed_actions:
    - "Write code in current phase"
    - "Update AUTO_LOG.jsonl"
    - "Run verification"
  blocked_actions:
    - "Start new phase before completion"
    - "Skip to git workflow"
    - "Abandon current work"
